<!DOCTYPE html><html lang="en" mode="dark" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="day-prompt" content="days ago"><meta name="hour-prompt" content="hours ago"><meta name="minute-prompt" content="minutes ago"><meta name="justnow-prompt" content="just now"><meta name="generator" content="Jekyll v4.2.1" /><meta property="og:title" content="Openstack Deployment - Hardware" /><meta property="og:locale" content="en" /><meta name="description" content="Configuration Dell PowerEdge Servers BSU’s SOC environment consists of Dell PowerEdge servers (no iDRAC license), so set-up steps are mostly identical across servers." /><meta property="og:description" content="Configuration Dell PowerEdge Servers BSU’s SOC environment consists of Dell PowerEdge servers (no iDRAC license), so set-up steps are mostly identical across servers." /><link rel="canonical" href="/posts/openstack-deployment-hardware/" /><meta property="og:url" content="/posts/openstack-deployment-hardware/" /><meta property="og:site_name" content="Teo’s Docs" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2021-07-26T08:00:00-06:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Openstack Deployment - Hardware" /><meta name="twitter:site" content="@twitter" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"description":"Configuration Dell PowerEdge Servers BSU’s SOC environment consists of Dell PowerEdge servers (no iDRAC license), so set-up steps are mostly identical across servers.","url":"/posts/openstack-deployment-hardware/","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"/posts/openstack-deployment-hardware/"},"headline":"Openstack Deployment - Hardware","dateModified":"2021-07-26T08:00:00-06:00","datePublished":"2021-07-26T08:00:00-06:00","@context":"https://schema.org"}</script><title>Openstack Deployment - Hardware | Teo's Docs</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Teo's Docs"><meta name="application-name" content="Teo's Docs"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end" lang="en"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="https://cdn.jsdelivr.net/gh/blacksheep-git/blacksheep-git.github.io@tree/main/assets/img/favicon/android-chrome-192x192.png" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Teo's Docs</a></div><div class="site-subtitle font-italic">A collection of self-hosting guides and documentation.</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <a href="https://github.com/blacksheep-git" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://twitter.com/twitter" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['m','teoo.io'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>Openstack Deployment - Hardware</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Openstack Deployment - Hardware</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="semi-bold"> Mateo Ortegon </span> on <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Mon, Jul 26, 2021, 8:00 AM -0600" >Jul 26, 2021<i class="unloaded">2021-07-26T08:00:00-06:00</i> </span></div><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="643 words">3 min read</span></div></div><div class="post-content"><h1 id="configuration">Configuration</h1><h2 id="dell-poweredge-servers">Dell PowerEdge Servers</h2><p>BSU’s SOC environment consists of Dell PowerEdge servers (no iDRAC license), so set-up steps are mostly identical across servers.</p><ul><li>Connect a display and keyboard (and mouse if preferred) to the server.<li>Power on the server and wait until the boot menu on the top of the screen is displayed - at this point press F10 (Life Cycle Manager) on the keyboard and wait for the screen to load.<li>Once in Life Cycle Manager we need to set up the following:</ul><h3 id="raid-controller">RAID Controller</h3><p>For setting up the raid controller, network storage and local storage have different virtual disk layouts.</p><ul><li>Local storage<ul><li>Local storage will need virtual disks created. The first virtual disk will be comprised of two drives, and will be the <img data-proofer-ignore data-src="https://github.com/BSU-Cybersecurity/BSU-Cybersecurity.github.io/blob/main/images/lifecycle%20controller.jpg?raw=true" alt="Desktop View" /></ul></ul><p>Here, select “Network”. <img data-proofer-ignore data-src="https://github.com/BSU-Cybersecurity/BSU-Cybersecurity.github.io/blob/main/images/idrac%20network.jpg?raw=true" alt="Desktop View" /></p><p>Since we do not have an iDRAC license we will use NIC1 for iDRAC instead of the dedicated iDRAC NIC. In our case we did not specify a “Fallover Network”. <img data-proofer-ignore data-src="https://github.com/BSU-Cybersecurity/BSU-Cybersecurity.github.io/blob/main/images/LOM%201.jpg?raw=true" alt="Desktop View" /></p><p>Scrolling down, there are settings for registering iDRAC on DNS, which we disabled. We enabled DHCP for IPv4 as DHCP makes enlisting nodes on MAAS much easier, and we also enabled using DHCP to obtain DNS addresses. <img data-proofer-ignore data-src="https://github.com/BSU-Cybersecurity/BSU-Cybersecurity.github.io/blob/main/images/iDrac%20on%20DNS%20disable.jpg?raw=true" alt="Desktop View" /></p><p>Lastly, and the whole point of setting up the iDRAC in the first place - we need to enable IPMI so that MAAS can power-cycle the machines. Below are the default settings - you can choose to assign a different privilege or encryption key but keep in mind that if you change the default, to make IPMI work you will need to specify both of these parameters in MAAS when setting up a new node. <img data-proofer-ignore data-src="https://github.com/BSU-Cybersecurity/BSU-Cybersecurity.github.io/blob/main/images/ipmi%20lan.jpg?raw=true" alt="Desktop View" /></p><p>Now press the ESC key to return to the Life Cycle Manager main page and you will be asked to reboot. At this point you are done setting up iDRAC + IPMI settings.</p><h3 id="3x-raid-virtual-disks">3x RAID Virtual Disks</h3><p>The first virtual drive is set up using the Wizard on the “Home” tab of Life Cycle Manager. This first step is ideal if the drives have foreign raid configurations already (if the drives came from another server). The wizard will walk you through the RAID configuration. Note: This is just one of three virtual disks we will set up so allocate physical drives accordingly.</p><p>The subsequent two virtual disks will be set up using the device manager itself. To access this, go to the “System Setup” tab of Life Cycle Manager and select “Advanced Hardware Configuration”. From there select Device Settings and then select the RAID controller from the list of devices. <img data-proofer-ignore data-src="https://github.com/BSU-Cybersecurity/BSU-Cybersecurity.github.io/blob/main/images/Device%20Settings.jpg?raw=true" alt="Desktop View" /></p><p>Now press the ESC key to return to the Life Cycle Manager main page and you will be asked to reboot. At this point you are done setting up your three RAID virtual drives.</p><h2 id="pxe-boot">PXE Boot</h2><p>When MAAS wakes a server using IPMI, the server needs to perform a PXE Network boot by default. To enable this, go to the “System Setup” tab of Life Cycle Manager and select “Advanced Hardware Configuration”. <img data-proofer-ignore data-src="https://cdn.jsdelivr.net/gh/cotes2020/chirpy-images/posts/20190808/window.png" alt="Shadow Avatar" class="shadow" width="90%" /></p><p>From here, select “System BIOS”, and once in System BIOS ensure the Boot Mode is set to UEFI. During our testing phase we also disabled Boot Sequence retry for debugging purposes. Next, click on “UEFI Boot Settings”. <img data-proofer-ignore data-src="https://cdn.jsdelivr.net/gh/cotes2020/chirpy-images/posts/20190808/window.png" alt="Shadow Avatar" class="shadow" width="90%" /></p><p>Once in UEFI boot settings select “UEFI Boot Sequence ‘’, and use the +/- keys to move the NIC that you will be PXE booting from to the top of the list. In our case, we PXE boot from the same NIC that we perform IPMI over. <img data-proofer-ignore data-src="https://cdn.jsdelivr.net/gh/cotes2020/chirpy-images/posts/20190808/window.png" alt="Shadow Avatar" class="shadow" width="90%" /></p><p>Now press the ESC key to return to the Life Cycle Manager main page and you will be asked to reboot. At this point you are done setting up PXE boot settings. <img data-proofer-ignore data-src="https://cdn.jsdelivr.net/gh/cotes2020/chirpy-images/posts/20190808/window.png" alt="Shadow Avatar" class="shadow" width="90%" /></p><p>Now press the ESC key to return to the Life Cycle Manager main page and you will be asked to reboot. At this point you are done setting up PXE boot settings.</p><h1 id="next-section-network"><a href="https://bsu-cybersecurity.github.io/posts/openstack-deployment-network/">Next Section: Network</a></h1></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/training-soc/'>Training-SOC</a>, <a href='/categories/openstack/'>OpenStack</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/openstack/" class="post-tag no-text-decoration" >openstack</a> <a href="/tags/cloud/" class="post-tag no-text-decoration" >cloud</a> <a href="/tags/deployment/" class="post-tag no-text-decoration" >deployment</a> <a href="/tags/soc/" class="post-tag no-text-decoration" >soc</a> <a href="/tags/guide/" class="post-tag no-text-decoration" >guide</a> <a href="/tags/juju/" class="post-tag no-text-decoration" >juju</a> <a href="/tags/maas/" class="post-tag no-text-decoration" >maas</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Openstack Deployment - Hardware - Teo's Docs&url=/posts/openstack-deployment-hardware/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Openstack Deployment - Hardware - Teo's Docs&u=/posts/openstack-deployment-hardware/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=Openstack Deployment - Hardware - Teo's Docs&url=/posts/openstack-deployment-hardware/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/cloud/">cloud</a> <a class="post-tag" href="/tags/deployment/">deployment</a> <a class="post-tag" href="/tags/guide/">guide</a> <a class="post-tag" href="/tags/openstack/">openstack</a> <a class="post-tag" href="/tags/soc/">soc</a> <a class="post-tag" href="/tags/juju/">juju</a> <a class="post-tag" href="/tags/maas/">maas</a> <a class="post-tag" href="/tags/charms/">charms</a> <a class="post-tag" href="/tags/image/">image</a> <a class="post-tag" href="/tags/instance/">instance</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/openstack-deployment-debugging/"><div class="card-body"> <span class="timeago small" >Jan 22, 2021<i class="unloaded">2021-01-22T07:00:00-07:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>OpenStack Deployment - Debugging</h3><div class="text-muted small"><p></p></div></div></a></div><div class="card"> <a href="/posts/openstack-deployment-management/"><div class="card-body"> <span class="timeago small" >Jan 23, 2021<i class="unloaded">2021-01-23T07:00:00-07:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>OpenStack Deployment - Management</h3><div class="text-muted small"><p> Next Section: Debugging</p></div></div></a></div><div class="card"> <a href="/posts/openstack-deployment-configuration/"><div class="card-body"> <span class="timeago small" >Jan 24, 2021<i class="unloaded">2021-01-24T07:00:00-07:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>OpenStack Deployment - Configuration</h3><div class="text-muted small"><p> Next Section: Management</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/openstack-deployment-overview/" class="btn btn-outline-primary" prompt="Older"><p>OpenStack Deployment - Overview</p></a> <span class="btn btn-outline-primary disabled" prompt="Newer"><p>-</p></span></div><div id="disqus_thread" class="pt-2 pb-2"><p class="text-center text-muted small"> Comments powered by <a href="https://disqus.com/">Disqus</a>.</p></div><script type="text/javascript"> var disqus_config = function () { this.page.url = '/posts/openstack-deployment-hardware/'; this.page.identifier = '/posts/openstack-deployment-hardware/'; }; /* Lazy loading */ var disqus_observer = new IntersectionObserver(function (entries) { if(entries[0].isIntersecting) { (function () { var d = document, s = d.createElement('script'); s.src = 'https://teosdocs.disqus.com.disqus.com/embed.js'; s.setAttribute('data-timestamp', +new Date()); (d.head || d.body).appendChild(s); })(); disqus_observer.disconnect(); } }, { threshold: [0] }); disqus_observer.observe(document.querySelector('#disqus_thread')); /* Auto switch theme */ function reloadDisqus() { /* Disqus hasn't been loaded */ if (typeof DISQUS === "undefined") { return; } if (document.readyState == 'complete') { DISQUS.reset({ reload: true, config: disqus_config }); } } const modeToggle = document.querySelector(".mode-toggle"); if (modeToggle !== null) { modeToggle.addEventListener('click', reloadDisqus); window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', reloadDisqus); } </script></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2022 <a href="https://github.com/blacksheep-git">Mateo Ortegon</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/cloud/">cloud</a> <a class="post-tag" href="/tags/deployment/">deployment</a> <a class="post-tag" href="/tags/guide/">guide</a> <a class="post-tag" href="/tags/openstack/">openstack</a> <a class="post-tag" href="/tags/soc/">soc</a> <a class="post-tag" href="/tags/juju/">juju</a> <a class="post-tag" href="/tags/maas/">maas</a> <a class="post-tag" href="/tags/charms/">charms</a> <a class="post-tag" href="/tags/image/">image</a> <a class="post-tag" href="/tags/instance/">instance</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/lozad/dist/lozad.min.js,npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.16.1,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id="></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', ''); }); </script>
